{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>Maintenance Index</title>
</head>
<body>
    <h2>Welcome, {{ user.username }}!</h2>
    <a href="{% url 'login' %}" id="logout-link">Logout</a>

    <div>User Type: Maintenance</div>
    
    <div>
        <label for="apartmentNumber">Apartment Number:</label>
        <select id="apartmentNumber">
            <option value="">All</option>
        </select>
        
        <label for="category">Category:</label>
        <select id="category">
            <option value="">All</option>
            <option value="electricity">Electricity</option>
            <option value="plumber">Plumber</option>
            <option value="structures">Structures</option>
            <option value="locksmith">Locksmith</option>
        </select>
        <button id="searchButton">Search</button>
    </div>
    
    
    <div id="allusersTickets">
        <!-- All user tickets will be displayed here -->
    </div>
    
    <div id="ticketForm" style="display: none;">
        <h2 id="formTitle">View Ticket</h2>
    
        <form id="updateForm">
            {% csrf_token %}

            <input type="hidden" id="ticketID" name="ticketID" value="">
            
            <label for="status">Status:</label>
            <select id="status" name="status" required>
                <option value="reported">Reported</option>
                <option value="assigned">Assigned</option>
                <option value="solved">Solved</option>
            </select><br>
    
            <label for="comments">Add Comments:</label>
            <textarea id="comments" name="comments" rows="4" cols="50"></textarea><br>
            <div id="imageContainer">
                <img id="ticketImage" src="" alt="Ticket Picture" />
            </div>
            <button type="button" id="updateButton" data-id="">Update</button>
            <button type="button" id="cancelTicket">Close</button>
        </form>
    </div>
    

    <script src="{% static 'guestServicedesk/maintenanceindex.js' %}"></script>
    <script>
        function populateApartmentNumbers() {
            const apartmentSelect = document.getElementById("apartmentNumber");
            const apartmentInput = document.getElementById("apartment");
            for (let i = 101; i <= 111; i++) {
                const option = document.createElement("option");
                option.value = i;
                option.text = i;
                apartmentSelect.appendChild(option);
            }
        }
        populateApartmentNumbers();
    </script>
    </body>
    </html>
    By placing your script just before the closing </body> tag, you ensure that it executes after the HTML elements are created, and it should populate the apartment numbers correctly. Make sure that you have saved your HTML file after making this change.
    
    
    
    
    
    
</body>
</html>

